extends layout.pug

block title
    | #{__('landing.title')} | Conor Nickerson

block css
    link(rel='stylesheet', type='text/css', href='/css/landing.css')

block content
    .container
        .title
            h1 Conor Nickerson
            .subtext !{__('landing.subtext')}
            .languages
                each language in getLocales()
                    - var classes = [language, 'language'];
                    if language == getLocale()
                        - classes.push('active');
                    a(class=classes, href='/' + language, data-lang=language) #{language}

block js
        script(type='text/javascript').
            $(document).ready(function() {
                var current_delay = 0;

                $('h1').delay(500).queue(function (next) {
                    $(this).css('opacity', 1);
                    next();
                });

                $('.subtext').delay(1000).queue(function (next) {
                    $(this).css('opacity', 1);
                    next();
                });

                $('.language').each(function() {
                    $(this).click(function() {
                        var href = $(this).attr('href');
                        var lang = $(this).attr('data-lang');
                        event.preventDefault();
                        window.location = href;
                        console.log(document.cookie);
                    });
                });

                $('.language').delay(1500).each(function() {
                    if ($(this).hasClass('active')) {
                        $(this).delay(current_delay).queue(function (next) {
                            $(this).css('opacity', 1);
                            next();
                        });
                    } else {
                        $(this).delay(current_delay).queue(function (next) {
                            $(this).css('opacity', 0.5);
                            next();
                        });
                    }

                    $(this).mouseenter(function() {
                        $(this).css('opacity', 1);
                    });

                    $(this).mouseout(function() {
                        if (!$(this).hasClass('active')) {
                            $(this).css('opacity', 0.5);
                        }
                    });

                    current_delay += 350;
                });
            });
